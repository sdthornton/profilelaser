(function(){for(var a,b=function(){},c="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)})();
(function(a,b){function c(k,a,g){if(-1===g.indexOf("%"))return g;k=k.style;var b=k.width,c;return k.width=g,c=a.width,k.width=b,c}function d(k,a,g){var b="height"!==a,d=b?k.offsetWidth:k.offsetHeight,e=b?"Left":"Top",n=b?"Right":"Bottom",b=t(k),h=parseFloat(b["padding"+e])||0,f=parseFloat(b["padding"+n])||0,m=parseFloat(b["border"+e+"Width"])||0,l=parseFloat(b["border"+n+"Width"])||0,e=b["margin"+e],n=b["margin"+n];r||(e=c(k,b,e),n=c(k,b,n));e=parseFloat(e)||0;n=parseFloat(n)||0;if(0<d)g?d+=e+n:d-=
h+f+m+l;else{d=b[a];if(0>d||null===d)d=k.style[a]||0;d=parseFloat(d)||0;g&&(d+=h+f+e+n+m+l)}return d}function e(k,g,b){k.addEventListener?k.addEventListener(g,b,!1):k.attachEvent&&(k["e"+g+b]=b,k[g+b]=function(){k["e"+g+b](a.event)},k.attachEvent("on"+g,k[g+b]))}function m(k,g){if(k){this.element=k;this.options={};for(var a in m.defaults)this.options[a]=m.defaults[a];for(a in g)this.options[a]=g[a];this._create();this.build()}}"use strict";var f=a.document,l="classList"in f.createElement("div"),p=
l?function(k,a){return k.classList.contains(a)}:function(a,g){return(new RegExp("(^|\\s+)"+g+"(\\s+|$)")).test(a.className)},u=l?function(a,g){a.classList.add(g)}:function(a,g){p(a,g)||(a.className=a.className+" "+g)},q=l?function(a,g){a.classList.remove(g)}:function(a,g){a.className=a.className.replace(new RegExp("(^|\\s+)"+g+"(\\s+|$)")," ")},h=f.defaultView,t=h&&h.getComputedStyle?function(a){return h.getComputedStyle(a,null)}:function(a){return a.currentStyle},v=f.getElementsByTagName("body")[0],
l=f.createElement("div"),f=v||f.createElement("body");l.style.marginTop="1%";f.appendChild(l);var r="1%"!==t(l).marginTop;f.removeChild(l);var g=["position","height"];m.defaults={isResizable:!0,gutterWidth:0,isRTL:!1,isFitWidth:!1};m.prototype={_getBricks:function(a){for(var g,b=0,c=a.length;b<c;b++)g=a[b],g.style.position="absolute",u(g,"masonry-brick"),this.bricks.push(g)},_create:function(){this.reloadItems();var k=this.element.style;this._originalStyle={};for(var b=0,c=g.length;b<c;b++){var d=
g[b];this._originalStyle[d]=k[d]||""}this.element.style.position="relative";this.horizontalDirection=this.options.isRTL?"right":"left";this.offset={};k=t(this.element);b=this.options.isRTL?"paddingRight":"paddingLeft";this.offset.y=parseFloat(k.paddingTop)||0;this.offset.x=parseFloat(k[b])||0;this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var h=this;setTimeout(function(){u(h.element,"masonry")});this.options.isResizable&&e(a,"resize",function(){h._handleResize()})},
build:function(a){this._getColumns();this._reLayout(a)},_getColumns:function(){var a=d(this.options.isFitWidth?this.element.parentNode:this.element,"width");this.columnWidth=this.isFluid?this.options.columnWidth(a):this.options.columnWidth||d(this.bricks[0],"width",!0)||a;this.columnWidth+=this.options.gutterWidth;this.cols=Math.floor((a+this.options.gutterWidth)/this.columnWidth);this.cols=Math.max(this.cols,1)},reloadItems:function(){this.bricks=[];this._getBricks(this.element.children)},_reLayout:function(a){var g=
this.cols;for(this.colYs=[];g--;)this.colYs.push(0);this.layout(this.bricks,a)},layout:function(a,g){if(a&&a.length){for(var b,c,e,h,n,f,m=0,l=a.length;m<l;m++)if(b=a[m],1===b.nodeType){c=Math.ceil(d(b,"width",!0)/this.columnWidth);c=Math.min(c,this.cols);if(1===c)f=this.colYs;else for(e=this.cols+1-c,f=[],n=0;n<e;n++)h=this.colYs.slice(n,n+c),f[n]=Math.max.apply(Math,h);e=Math.min.apply(Math,f);c=0;for(n=f.length;c<n&&f[c]!==e;c++);b.style.top=e+this.offset.y+"px";b.style[this.horizontalDirection]=
this.columnWidth*c+this.offset.x+"px";b=e+d(b,"height",!0);f=this.cols+1-n;for(n=0;n<f;n++)this.colYs[c+n]=b}this.element.style.height=Math.max.apply(Math,this.colYs)+"px";if(this.options.isFitWidth){l=0;for(m=this.cols;--m&&0===this.colYs[m];)l++;this.element.style.width=(this.cols-l)*this.columnWidth-this.options.gutterWidth+"px"}g&&g.call(a)}},_handleResize:function(){var a=this;this._resizeTimeout&&clearTimeout(this._resizeTimeout);this._resizeTimeout=setTimeout(function(){a.resize();a._resizeTimeout=
null},100)},resize:function(){var a=this.cols;this._getColumns();(this.isFluid||this.cols!==a)&&this._reLayout()},reload:function(a){this.reloadItems();this.build(a)},appended:function(a,g,b){var c=this,e=function(){c._appended(a,b)};if(g){g=d(this.element,"height")+"px";for(var f=0,h=a.length;f<h;f++)a[f].style.top=g;setTimeout(e,1)}else e()},_appended:function(a,g){this._getBricks(a);this.layout(a,g)},destroy:function(){for(var b,c=0,d=this.bricks.length;c<d;c++)b=this.bricks[c],b.style.position=
"",b.style.top="",b.style.left="",q(b,"masonry-brick");b=this.element.style;d=g.length;for(c=0;c<d;c++){var e=g[c];b[e]=this._originalStyle[e]}q(this.element,"masonry");this.resizeHandler&&(c=this.resizeHandler,a.removeEventListener?a.removeEventListener("resize",c,!1):a.detachEvent&&(a.detachEvent("onresize",a["resize"+c]),a["resize"+c]=null,a["eresize"+c]=null))}};m.getWH=d;a.Masonry=m})(window);
(function(a){function b(a){if(a in q.style)return a;var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in q.style)return a;for(a=0;a<b.length;++a){var d=b[a]+c;if(d in q.style)return d}}function c(a){"string"===typeof a&&this.parse(a);return this}function d(a,b,c){!0===b?a.queue(c):b?a.queue(b,c):c()}function e(b){var c=[];a.each(b,function(b){b=a.camelCase(b);b=a.transit.propertyMap[b]||a.cssProps[b]||b;b=l(b);-1===a.inArray(b,c)&&c.push(b)});return c}function m(b,c,d,f){b=
e(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+u(c)+" "+d;0<parseInt(f,10)&&(h+=" "+u(f));var m=[];a.each(b,function(a,b){m.push(b+" "+h)});return m.join(", ")}function f(b,c){c||(a.cssNumber[b]=!0);a.transit.propertyMap[b]=h.transform;a.cssHooks[b]={get:function(c){return a(c).css("transit:transform").get(b)},set:function(c,d){var k=a(c).css("transit:transform");k.setFromString(b,d);a(c).css({"transit:transform":k})}}}function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}
function p(a,b){return"string"!==typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function u(b){a.fx.speeds[b]&&(b=a.fx.speeds[b]);return p(b,"ms")}a.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var q=document.createElement("div"),h={},t=-1<navigator.userAgent.toLowerCase().indexOf("chrome");h.transition=b("transition");
h.transitionDelay=b("transitionDelay");h.transform=b("transform");h.transformOrigin=b("transformOrigin");q.style[h.transform]="";q.style[h.transform]="rotateY(90deg)";h.transform3d=""!==q.style[h.transform];var v=h.transitionEnd={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[h.transition]||null,r;for(r in h)h.hasOwnProperty(r)&&"undefined"===typeof a.support[r]&&(a.support[r]=h[r]);q=null;
a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",
easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",
easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new c},set:function(b,d){var e=d;e instanceof c||(e=new c(e));b.style[h.transform]="WebkitTransform"!==h.transform||t?e.toString():e.toString(!0);a(b).data("transform",e)}};a.cssHooks.transform={set:a.cssHooks["transit:transform"].set};"1.8">a.fn.jquery&&(a.cssHooks.transformOrigin={get:function(a){return a.style[h.transformOrigin]},
set:function(a,b){a.style[h.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[h.transition]},set:function(a,b){a.style[h.transition]=b}});f("scale");f("translate");f("rotate");f("rotateX");f("rotateY");f("rotate3d");f("perspective");f("skewX");f("skewY");f("x",!0);f("y",!0);c.prototype={setFromString:function(a,b){var d="string"===typeof b?b.split(","):b.constructor===Array?b:[b];d.unshift(a);c.prototype.set.apply(this,d)},set:function(a){var b=Array.prototype.slice.apply(arguments,
[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=p(a,"deg")},rotateX:function(a){this.rotateX=p(a,"deg")},rotateY:function(a){this.rotateY=p(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=p(a,"deg")},skewY:function(a){this.skewY=p(a,"deg")},perspective:function(a){this.perspective=p(a,"px")},x:function(a){this.set("translate",
a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==a&&void 0!==a&&(this._translateX=p(a,"px"));null!==b&&void 0!==b&&(this._translateY=p(b,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));
a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));a[3]&&(a[3]=p(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[],c;for(c in this)this.hasOwnProperty(c)&&(h.transform3d||"rotateX"!==c&&"rotateY"!==c&&"perspective"!==c&&"transformOrigin"!==c)&&"_"!==c[0]&&(a&&"scale"===c?
b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));return b.join(" ")}};a.fn.transition=a.fn.transit=function(b,c,e,f){var l=this,p=0,q=!0;"function"===typeof c&&(f=c,c=void 0);"function"===typeof e&&(f=e,e=void 0);"undefined"!==typeof b.easing&&(e=b.easing,delete b.easing);"undefined"!==typeof b.duration&&(c=b.duration,delete b.duration);"undefined"!==typeof b.complete&&(f=b.complete,delete b.complete);"undefined"!==typeof b.queue&&(q=b.queue,
delete b.queue);"undefined"!==typeof b.delay&&(p=b.delay,delete b.delay);"undefined"===typeof c&&(c=a.fx.speeds._default);"undefined"===typeof e&&(e=a.cssEase._default);c=u(c);var n=m(b,c,e,p),r=a.transit.enabled&&h.transition?parseInt(c,10)+parseInt(p,10):0;if(0===r)return d(l,q,function(a){l.css(b);f&&f.apply(l);a&&a()}),l;var t={},w=function(c){var d=!1,e=function(){d&&l.unbind(v,e);0<r&&l.each(function(){this.style[h.transition]=t[this]||null});"function"===typeof f&&f.apply(l);"function"===typeof c&&
c()};0<r&&v&&a.transit.useTransitionEnd?(d=!0,l.bind(v,e)):window.setTimeout(e,r);l.each(function(){0<r&&(this.style[h.transition]=n);a(this).css(b)})};d(l,q,function(a){this.offsetWidth;w(a)});return this};a.transit.getTransitionValue=m})(jQuery);
(function(){function a(a,b,e,m){if(a.addEventListener)return a.addEventListener(b,e,m),{destroy:function(){a.removeEventListener(b,e,m)}};var f=function(a){e.handleEvent(window.event,e)};a.attachEvent("on"+b,f);return{destroy:function(){a.detachEvent("on"+b,f)}}}var b="ontouchstart"in window;this.FastButton=function(c,d,e){this.events=[];this.touchEvents=[];this.element=c;this.handler=d;this.useCapture=e;b&&this.events.push(a(c,"touchstart",this,this.useCapture));this.events.push(a(c,"click",this,
this.useCapture))};this.FastButton.prototype.destroy=function(){for(i=this.events.length-1;0<=i;--i)this.events[i].destroy();this.events=this.touchEvents=this.element=this.handler=this.fastButton=null};this.FastButton.prototype.handleEvent=function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onClick(a);break;case "click":this.onClick(a)}};this.FastButton.prototype.onTouchStart=function(b){b.stopPropagation?b.stopPropagation():
b.cancelBubble=!0;this.touchEvents.push(a(this.element,"touchend",this,this.useCapture));this.touchEvents.push(a(document.body,"touchmove",this,this.useCapture));this.startX=b.touches[0].clientX;this.startY=b.touches[0].clientY};this.FastButton.prototype.onTouchMove=function(a){(10<Math.abs(a.touches[0].clientX-this.startX)||10<Math.abs(a.touches[0].clientY-this.startY))&&this.reset()};this.FastButton.prototype.onClick=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;this.reset();
var b=this.handler.call(this.element,a);"touchend"==a.type&&clickbuster.preventGhostClick(this.startX,this.startY);return b};this.FastButton.prototype.reset=function(){for(i=this.touchEvents.length-1;0<=i;--i)this.touchEvents[i].destroy();this.touchEvents=[]};this.clickbuster=function(){};this.clickbuster.preventGhostClick=function(a,b){clickbuster.coordinates.push(a,b);window.setTimeout(clickbuster.pop,2500)};this.clickbuster.pop=function(){clickbuster.coordinates.splice(0,2)};this.clickbuster.onClick=
function(a){for(var b=0;b<clickbuster.coordinates.length;b+=2){var e=clickbuster.coordinates[b+1];25>Math.abs(a.clientX-clickbuster.coordinates[b])&&25>Math.abs(a.clientY-e)&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1)}};b&&(document.addEventListener("click",clickbuster.onClick,!0),clickbuster.coordinates=[])})(this);
(function(a){a.event.special.fastClick={setup:function(){a(this).data("fastClick",new FastButton(this,a.event.special.fastClick.handler))},teardown:function(){a(this).data("fastClick").destroy();a(this).removeData("fastClick")},handler:function(b){b=a.event.fix(b);b.type="fastClick";a.event.dispatch.apply(this,arguments)}};a.fn.fastClick=function(b){return a(this).each(function(){return b?a(this).bind("fastClick",b):a(this).trigger("fastClick")})}})(jQuery);
var noPaintOnHover=function(){function a(){document.documentElement.classList.add("hover")}var b=0;window.addEventListener("scroll",function(){clearTimeout(b);document.documentElement.classList.remove("hover");b=setTimeout(a,200)},!1)};noPaintOnHover();(function(a){a.fn.disableSelection=function(){return this.attr("unselectable","on").css("user-select","none").on("selectstart",!1)}})(jQuery);
function getParamByName(a,b){var c=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(window.location.search);return null===c?b:decodeURIComponent(c[1].replace(/\+/g," "))}var retina=1.5<=window.devicePixelRatio,home_page="home_page"===document.getElementsByTagName("body")[0].className,gallery_page="gallery_page"===document.getElementsByTagName("body")[0].className,contact_page="contact_page"===document.getElementsByTagName("body")[0].className;
home_page?$(".home_link").addClass("current_page"):gallery_page?$(".gallery_link").addClass("current_page"):contact_page&&$(".contact_link").addClass("current_page");
var mobile=/(alcatel|amoi|android|avantgo|blackberry|benq|cell|cricket|docomo|elaine|htc|iemobile|iphone|ipad|ipaq|ipod|j2me|java|midp|mini|mmp|mobi|motorola|nec-|nokia|palm|panasonic|philips|phone|playbook|sagem|sharp|sie-|silk|smartphone|sony|symbian|t-mobile|telus|up\.browser|up\.link|vodafone|wap|webos|wireless|xda|xoom|zte)/i.test(navigator.userAgent),oldie=$.browser.msie&&9>$.browser.version;
$("#fastclick").fastClick(function(a){a.preventDefault();a.stopPropagation();mobile?$(".mobile_nav").stop(!0,!0).toggle():$(".mobile_nav").stop(!0,!0).slideToggle()});function mobileBannerPosition(){var a=$(window).width(),b=[0,a/2,a,1.5*a,2*a,2.5*a],b=b[Math.floor(Math.random()*b.length)];640>=a&&$(".banner_img").css({left:-b})}
if(home_page){var bannerImg=new Image;bannerImg.src="img/home_banner.jpg";bannerImg.width=2800;bannerImg.height=400;bannerImg.id="banner_img";bannerImg.className="banner_img";$(bannerImg).load(function(){$(this).hide();$(".banner").removeClass("loading");$(".banner_img_container").html(this);$(this).fadeIn("slow");mobileBannerPosition()}).error(function(){$(".banner_error").show()});$(window).resize(function(){$(".banner_img").css({left:"0",visibility:"visible"})})}
function bannerParallax(){768<=$(window).width()?$(window).scroll(function(){var a=$(window).scrollTop();500<a?($(".banner").css({visibility:"hidden"}),$(".scroll_banner").css({visibility:"hidden"})):($(".banner").css({visibility:"visible"}),$(".scroll_banner").css({visibility:"visible"}));oldie||$(".banner_img").addClass("banner_img_scroll");$(".banner_img_scroll").css("top",-a/8+80)}):(document.getElementById("banner_img").style.top="auto",$(window).scroll(function(){document.getElementById("banner_img").style.top=
"auto"}))}
if(home_page&&!mobile){bannerParallax();$(window).resize(function(){bannerParallax()});768<=$(window).width()&&($(".process_icon").css("opacity","0"),$(".why_icon").css("opacity","0"));var windowHeight=$(window).height(),processIconOffset=$(".process_icon").offset().top,whyIconOffset=$(".why_icon").offset().top,iconHeight=$(".process_icon").height(),processIconBottomOffset=processIconOffset+iconHeight,whyIconBottomOffset=whyIconOffset+iconHeight,processIconShown=processIconBottomOffset-windowHeight,
whyIconShown=whyIconBottomOffset-windowHeight;$(window).scroll(function(){var a=$(window).scrollTop();a>processIconShown&&$(".process_icon").animate({opacity:"1.0"},500);a>whyIconShown&&$(".why_icon").animate({opacity:"1.0"},500)})}function talkBoxHeight(){var a=[];$(".talk_box").each(function(){a.push($(this).outerHeight())});var b=Math.max.apply(null,a);document.getElementById("talk_box_container").style.height=b+"px"}
home_page&&(talkBoxHeight(),$(window).resize(function(){talkBoxHeight()}),$(".talk_box").first().css("position","absolute").addClass("active_talk"),$(".talk_box").not(".active_talk").css({display:"none",visibility:"visible"}));
function nextTalk(){var a=$(".active_talk").next();$(".talk_box").last().hasClass("active_talk")&&(a=$(".talk_box").first());$(".active_talk").removeClass("active_talk").animate({opacity:"0"},500).delay(500).fadeOut(0,function(){a.show().animate({opacity:"1.0"},500).addClass("active_talk")})}var talkLength=$(".talk_box").length;home_page&&1<talkLength&&setInterval(nextTalk,15E3);home_page&&!Modernizr.backgroundsize&&$(".talk").css({backgroundImage:"none",borderTop:"#0F4C81",borderBottom:"#0F4C81"});
function nextImg(){var a=$(window).width(),b=parseInt($("#banner_img").css("left"),10),c=b-400,d=Math.abs(c)+a,a=a-2800;2800<d?b===a?$("#banner_img").animate({left:"0"}):$("#banner_img").animate({left:a+"px"}):$("#banner_img").animate({left:c+"px"})}
function prevImg(){var a=$(window).width(),b=parseInt($("#banner_img").css("left"),10),c=b+400,d=Math.abs(b%400),a=a-2800;0>b?0===d?$("#banner_img").animate({left:c+"px"}):$("#banner_img").animate({left:b+d+"px"}):$("#banner_img").animate({left:a+"px"})}home_page&&!mobile&&($(".banner_next").on("click",function(){$(this).disableSelection();nextImg()}),$(".banner_prev").on("click",function(){$(this).disableSelection();prevImg()}));
if(gallery_page){var per_page=getParamByName("per_page","20"),page=getParamByName("page","1"),img_start=(page-1)*per_page,img_end=per_page*page;$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",{id:"90859317@N02",format:"json"},function(a){$.each(a.items.slice(img_start,img_end),function(a,b){var c=retina?b.media.m.replace("_m.","_b."):b.media.m.replace("_m.",".");$('<div class="box"><a href="'+b.link+'" target="_blank" title="'+b.title+'"><img src="'+c+'" class="item" width="308" alt="'+
b.title+'" /></a></div>').appendTo("#gallery_images")});if(a.items.length>per_page){a=Math.ceil(a.items.length/per_page);var b,c=[];for(b=0;b<a;++b)c.push('<li><a href="?page='+(b+1)+"&per_page="+per_page+'">'+(b+1)+"</a></li>");$("<ul />",{"class":"pagination",html:c.join("")}).insertAfter("#gallery_images");a=$(".pagination").find("li").last().index()+1;$(".pagination li").eq(page-1).addClass("current_page").click(function(a){a.preventDefault()});$(".pagination li").eq(page-2).children("a").first().attr("rel",
"prev");$(".pagination li").eq(page).children("a").first().attr("rel","next");1!==parseInt(page,10)&&$(".pagination li").first().before('<li><a href="?page='+(parseInt(page,10)-1)+"&per_page="+per_page+'" rel="prev">&larr;</a></li>');parseInt(page,10)!==a&&$(".pagination li").last().after('<li><a href="?page='+(parseInt(page,10)+1)+"&per_page="+per_page+'" rel="next">&rarr;</a></li>')}});window.setTimeout(function(){$(".loading_error").fadeIn("slow")},8E3);$(window).load(function(){$(".loading_error").remove();
$(".loader").hide();$("#gallery_images").show();return new Masonry(document.getElementById("gallery_images"))});$(window).resize(function(){$("#gallery_images").show();return new Masonry(document.getElementById("gallery_images"))})}
function googleMap(){var a=new google.maps.LatLng(45.53856,-122.674016),b;b=mobile?{backgroundColor:"#125a98",center:a,draggable:!1,disableDefaultUI:!0,zoom:17,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},streetViewControl:!0,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP}:{backgroundColor:"#f3f3f3",center:a,draggable:!0,disableDefaultUI:!0,zoom:17,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},streetViewControl:!0,scrollwheel:!1,
mapTypeId:google.maps.MapTypeId.ROADMAP};var c=new google.maps.Map(document.getElementById("map"),b);c.setOptions({styles:[{featureType:"all",elementType:"all",stylers:[{hues:"#125a98"},{saturation:""}]}]});var d=new google.maps.MarkerImage("img/marker.png",null,null,null,new google.maps.Size(80,45));window.setTimeout(function(){var b=new google.maps.Marker({position:a,map:c,title:"Profile Laser",animation:google.maps.Animation.DROP,icon:d}),m=new google.maps.InfoWindow({content:'<a href="http://maps.google.com/?q=Profile+Laser+LLC+2138+N+Interstate+Ave+Portland+OR+97227" target="_blank"><b>Profile Laser, LLC</b><br>2138 N. Interstate Ave<br>Portland, OR 97225"</a>'});
google.maps.event.addListener(b,"click",function(){m.open(c,b)})},1500)}contact_page&&googleMap();
if(contact_page){var form=$("#contact_form"),formElements=form.find('input[type!="submit"],textarea'),formSubmitButton=form.find('[type="submit"]'),errorNotice=$("#errors"),successNotice=$("#success"),loading=$("#loading"),errorMessages={nospam:"Sorry robot, no spamming for you today! If you are not a robot, but are in fact human, and you are seeing this error, it means you have accidentally filled out our hidden anti spam field. Simply leave that blank and try to resubmit the form.",required:" is a required field",
realname:"Please enter your name",email:"Please enter an email address",bademail:"Please enter a valid email address",message:"Please write us a message",location:"Please enter your location (just the city and state)",minlength:" must be greater than or equal to "};formSubmitButton.on("click",function(){var a=!0,b=[];formElements.each(function(){var c=this.name,d=c.ucfirst(),e=this.value,m=this.getAttribute("type"),f=this.getAttribute("required"),l=this.getAttribute("data-minlength");if(this.validity&&
!this.validity.valid)return a=!1,console.log(this.validity),this.validity.valueMissing?"real_name"===this.name?b.push(errorMessages.realname):"email"===this.name?b.push(errorMessages.email):"message"===this.name?b.push(errorMessages.message):"location"===this.name?b.push(errorMessages.location):b.push(d+errorMessages.required):this.validity.typeMismatch&&"email"===m&&b.push(errorMessages.bademail),this.focus(),!1;if(f&&!Modernizr.input.required&&""===e)return this.focus(),a=!1,"real_name"===this.name?
b.push(errorMessages.realname):"email"===this.name?b.push(errorMessages.email):"message"===this.name?b.push(errorMessages.message):"location"===this.name?b.push(errorMessages.location):b.push(d+errorMessages.required),!1;if("email"===m&&!Modernizr.inputtypes.email&&!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e))return this.focus(),a=!1,b.push(errorMessages.bademail),!1;if(l&&e.length<parseInt(l,10))return this.focus(),a=!1,b.push(d+errorMessages.minlength+l+" characters"),
!1;if("name"===c&&""!==this.value)return a=!1,b.push(errorMessages.nospam),!1});a?(loading.show(),formSubmitButton.attr("disabled","disabled"),$.ajax({url:form.attr("action"),type:form.attr("method"),data:form.serialize(),success:function(){showNotice("success");form.get(0).reset();loading.hide();formSubmitButton.removeAttr("disabled")}})):($(".req-field-desc").stop().animate({marginLeft:"+=5"},150,function(){$(this).animate({marginLeft:"-=5"},150)}),showNotice("error",b));return!1});var showNotice=
function(a,b){if("error"===a){successNotice.hide();errorNotice.find("li[id!='info']").remove();var c;for(c=0;c<b.length;c++)errorNotice.append("<li>"+b[c]+"</li>");errorNotice.show()}else errorNotice.hide(),successNotice.show().delay(4E3).slideUp("slow")};String.prototype.ucfirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)}}var footer=document.getElementsByTagName("footer")[0];
function footerPosition(){var a=$("footer").outerHeight();$(".bottom_section").css({marginBottom:a+"px"});var b=$(window).height(),c=$("header").height(),d=$("body").outerHeight();a>b-c||a+d<b?(footer.style.position="relative",$(".bottom_section").css("marginBottom","0")):(footer.style.position="fixed",$(".bottom_section").css("marginBottom",a))}mobile?($(".bottom_section").css({marginBottom:"0"}),$("footer").css({position:"relative",zIndex:"1"})):($(window).load(function(){footerPosition()}),$(window).resize(function(){footerPosition()}));
mobile||$(".tel_link").on("click",function(a){a.preventDefault()}).css("cursor","default");mobile&&$(".scroll_banner").remove();
var Konami=function(a){var b={addEvent:function(a,b,e,m){a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent&&(a["e"+b+e]=e,a[b+e]=function(){a["e"+b+e](window.event,m)},a.attachEvent("on"+b,a[b+e]))},input:"",pattern:"3838404037393739666513",load:function(a){this.addEvent(document,"keydown",function(d,e){e&&(b=e);b.input+=d?d.keyCode:event.keyCode;b.input.length>b.pattern.length&&(b.input=b.input.substr(b.input.length-b.pattern.length));b.input==b.pattern&&(b.code(a),b.input="")},this);this.iphone.load(a)},
code:function(a){window.location=a},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:"UP UP DOWN DOWN LEFT RIGHT LEFT RIGHT TAP TAP TAP".split(" "),code:function(a){b.code(a)},load:function(a){this.orig_keys=this.keys;b.addEvent(document,"touchmove",function(a){1==a.touches.length&&1==b.iphone.capture&&(a=a.touches[0],b.iphone.stop_x=a.pageX,b.iphone.stop_y=a.pageY,b.iphone.tap=!1,b.iphone.capture=!1,b.iphone.check_direction())});b.addEvent(document,"touchend",function(d){1==
b.iphone.tap&&b.iphone.check_direction(a)},!1);b.addEvent(document,"touchstart",function(a){b.iphone.start_x=a.changedTouches[0].pageX;b.iphone.start_y=a.changedTouches[0].pageY;b.iphone.tap=!0;b.iphone.capture=!0})},check_direction:function(a){x_magnitude=Math.abs(this.start_x-this.stop_x);y_magnitude=Math.abs(this.start_y-this.stop_y);x=0>this.start_x-this.stop_x?"RIGHT":"LEFT";y=0>this.start_y-this.stop_y?"DOWN":"UP";result=x_magnitude>y_magnitude?x:y;result=1==this.tap?"TAP":result;result==this.keys[0]&&
(this.keys=this.keys.slice(1,this.keys.length));0==this.keys.length&&(this.keys=this.orig_keys,this.code(a))}}};"string"===typeof a&&b.load(a);"function"===typeof a&&(b.code=a,b.load());return b};$(window).load(function(){return new Konami(function(){alert("You can now play with 10 lives!!!");$("footer").after('<div style="background: rgba(0,0,0,0.85); display: block; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 99998;"></div><iframe width="640" height="480" src="http://www.youtube.com/embed/BDq1EczJ5M0?autoplay=1" style="position: fixed; z-index: 99999; top: 50%; margin-top: -240px; left: 50%; margin-left: -320px;" frameborder="0" allowfullscreen autoplay></iframe>')})});
